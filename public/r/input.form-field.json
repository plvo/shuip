{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "input.form-field",
  "type": "registry:ui",
  "dependencies": ["react-hook-form"],
  "registryDependencies": ["form", "input"],
  "files": [
    {
      "path": "./registry/ui/input.form-field.tsx",
      "content": "'use client';\n\nimport type React from 'react';\n\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport type { Control, Path } from 'react-hook-form';\nimport { Button } from '@/components/ui/button';\nimport { useState } from 'react';\nimport { Eye, EyeOff } from 'lucide-react';\n\ntype InputFieldProps<T extends Record<string, any>> = {\n  control: Control<T>;\n  name: Path<T>;\n  label: string;\n  description?: string;\n  isNumber?: boolean;\n} & React.ComponentProps<typeof Input>;\n\nconst InputField = <TFieldValues extends Record<string, any>>({\n  control,\n  name,\n  label,\n  description,\n  isNumber = false,\n  ...props\n}: InputFieldProps<TFieldValues>) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const getInputType = () => {\n    if (isNumber) return 'number';\n    if (props.type === 'password') {\n      return showPassword ? 'text' : 'password';\n    }\n    return props.type ?? 'text';\n  };\n\n  return (\n    <FormField\n      control={control}\n      name={name}\n      render={({ field }) => {\n        return (\n          <FormItem className='space-y-1.5'>\n            <FormLabel className='flex items-center justify-between'>\n              {label}\n              <FormMessage className='max-sm:hidden text-sm' />\n            </FormLabel>\n            <FormControl>\n              <div className='relative'>\n                <Input\n                  {...field}\n                  {...props}\n                  type={getInputType()}\n                  onChange={(e) => {\n                    const value = e.target.value;\n                    if (isNumber) return field.onChange(value === '' ? '' : Number(value));\n                    return field.onChange(value);\n                  }}\n                />\n                {props.type === 'password' && (\n                  <Button\n                    type='button'\n                    variant='ghost'\n                    size='sm'\n                    className='absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent'\n                    onClick={() => setShowPassword((prev) => !prev)}\n                    tabIndex={-1}\n                    aria-label={showPassword ? 'Masquer le mot de passe' : 'Afficher le mot de passe'}\n                  >\n                    {showPassword ? (\n                      <EyeOff className='h-4 w-4' aria-hidden='true' />\n                    ) : (\n                      <Eye className='h-4 w-4' aria-hidden='true' />\n                    )}\n                    <span className='sr-only'>\n                      {showPassword ? 'Masquer le mot de passe' : 'Afficher le mot de passe'}\n                    </span>\n                  </Button>\n                )}\n              </div>\n            </FormControl>\n            {description && <p className='text-muted-foreground text-sm'>{description}</p>}\n            <FormMessage className='sm:hidden text-xs text-left' />\n          </FormItem>\n        );\n      }}\n    />\n  );\n};\n\nexport default InputField;\n",
      "type": "registry:ui",
      "target": "./components/ui/shuip/input.form-field.tsx"
    }
  ]
}
